<?xml version='1.0' encoding="UTF-8"?>
<!-- $Header: /var/cvsroot/gentoo/xml/htdocs/doc/ja/gentoo-x86-quickinstall.xml,v 1.15 2012/04/18 18:30:27 swift Exp $ -->

<!DOCTYPE guide SYSTEM "/dtd/guide.dtd">

<guide>
<title>Gentoo Linux x86クイックインストールガイド</title>

<values>
 <key id="raid+lvm">no</key>
 <key id="root">/dev/sda3</key>
</values>

<author title="Author">
  <mail link="neysx">Xavier Neys</mail>
</author>
<author title="Author">
  <mail link="swift@gentoo.org">Sven Vermeulen</mail>
</author>
<author title="Author">Steven Wagner</author>
<author title="翻訳">
  <mail link="konno.katsuyuki@nifty.com">今野勝之</mail>
</author>
<author title="翻訳">
  <mail link="solidsneak@hyper.cx">小林弘樹</mail>
</author>
<author title="翻訳">
  <mail link="naota@gentoo.org">青田直大</mail>
</author>

<abstract>
クイックインストールガイドは、Gentooをインストールする手順を簡潔にカバーしています。
stage3のインストールを時間をかけずに行なうことが目的です。
このガイドに従ってインストールする場合、Gentoo Linuxのインストールを一度経験している必要があります。
</abstract>

<!-- The content of this document is licensed under the CC-BY-SA license -->
<!-- See http://creativecommons.org/licenses/by-sa/2.5 -->
<license/>

<version>26</version>
<date>2011-05-09</date>

<!-- Original revision: 1.85 -->

<chapter>
<title>はじめに</title>
<section>
<body>

<p>
このガイドにはGentooのstage3インストールを完了するのに必要な全てのコマンドが記載してあります。
stage3とPortageのスナップショットを取得するために、インターネットへの接続が必要になります。
</p>

<impo>
新規ユーザは、インストールのプロセスをより良く解説している
<uri link="/doc/en/handbook/index.xml">Handbook</uri>
<uri link="/doc/ja/handbook/index.xml">(日本語訳)</uri>
を読むべきです。クイックインストールガイドは、
従うべきチェックリストだけが必要な経験値のあるユーザのためのものです。
</impo>

<p>
以下のコマンドは、全て完了するのに2秒以上かかります。
計測はAMD 2000 1.66 Ghzで512MBのメモリとハードウェアコントローラに2つのSATAディスクをつなげたマシンで行ないました。
</p>

<pre caption="テストマシンのスペック">
<comment>(以下のスペックと必要時間の情報で、
あなたのマシンでインストールを完了するのに必要な時間を見積もることができるでしょう。)</comment>

# <i>grep bogo /proc/cpuinfo</i>
bogomips       : 3337.81

# <i>hdparm -tT /dev/sda</i>
/dev/sda:
 Timing cached reads:   1100 MB in  2.00 seconds = 549.97 MB/sec
 Timing buffered disk reads:  224 MB in  3.01 seconds =  74.36 MB/sec

# <i>grep MemTotal /proc/meminfo</i>
MemTotal:       509248 kB
</pre>

</body>
</section>
</chapter>

<chapter>
<title>クイックインストールガイド</title>

<section>
 <include href="gentoo-x86-quickinstall-media.xml"/>
</section>

<section>
<title>ディスクの準備</title>
<body>

<p>
<c>fdisk</c>や<c>cfdisk</c>を使用してパーティションレイアウトを作成します。
少なくともswapパーティション(タイプ82)と1つのLinuxパーティション(タイプ83)が必要です。
</p>

<pre caption="Create the partitions">
livecd ~ # <i>fdisk /dev/sda</i>

<comment>(The rest of this guide uses the following partitioning scheme)</comment>
livecd ~ # <i>fdisk -l /dev/sda</i>

Disk /dev/sda: 599.9 GB, 599978409984 bytes
255 heads, 63 sectors/track, 72943 cylinders
Units = cylinders of 16065 * 512 = 8225280 bytes

   Device Boot      Start         End      Blocks   Id  System
/dev/sda1   *           1          12       96358+  83  Linux
/dev/sda2              13         110      787185   82  Linux swap / Solaris
/dev/sda3             111       72943   585031072+  83  Linux
</pre>

<p>
<c>mke2fs</c>、<c>mke2fs -j</c>、<c>mkreiserfs</c>、<c>mkfs.xfs</c>、<c>mkfs.jfs</c>を利用してLinuxパーティションにファイルシステムを作成します。
swapパーティションを<c>mkswap</c>と<c>swapon</c>を使って初期化します。
</p>

<pre caption="Create the file systems and activate swap">
<comment>(ext2 is all you need on the /boot partition)</comment>
livecd ~ # <i>mke2fs /dev/sda1</i>

<comment>(Let's use ext3 on the main partition)</comment>
livecd ~ # <i>mke2fs -j /dev/sda3</i>

<comment>(Create and activate swap)</comment>
livecd ~ # <i>mkswap /dev/sda2 &amp;&amp; swapon /dev/sda2</i>
</pre>

<p>
新しく作成したファイルシステムを<path>/mnt/gentoo</path>にマウントします。
必要なら他のマウントポイント用のディレクトリ(<path>/mnt/gentoo/boot</path>など)を作成します。
</p>

<pre caption="Mount the file systems">
livecd ~ # <i>mount /dev/sda3 /mnt/gentoo</i>
livecd ~ # <i>mkdir /mnt/gentoo/boot</i>
livecd ~ # <i>mount /dev/sda1 /mnt/gentoo/boot</i>
livecd ~ # <i>cd /mnt/gentoo</i>
</pre>

</body>
</section>

<section>
 <include href="gentoo-x86-quickinstall-stage.xml"/>
</section>

<section>
<title>Kernel Configuration</title>
<body>

<p>
Install a kernel source (usually <c>gentoo-sources</c>), configure it, compile
it and copy the <path>arch/i386/boot/bzImage</path> file to <path>/boot</path>.
</p>

<pre caption="Install a kernel source, compile it and install the kernel">
livecd etc # <i>time emerge gentoo-sources</i>

real  2m51.435s
user  0m58.220s
sys   0m29.890s
livecd etc # <i>cd /usr/src/linux</i>
livecd linux # <i>make menuconfig</i>
<comment>(Configure your kernel)</comment>
livecd linux # <i>time make -j2</i>

<comment>(Elapsed time depends highly on the options you selected)</comment>
real  3m51.962s
user  3m27.060s
sys   0m24.310s

livecd linux # <i>make modules_install</i>
livecd linux # <i>cp arch/i386/boot/bzImage /boot/kernel</i>
</pre>

</body>
</section>

<section>
 <include href="gentoo-x86-quickinstall-system.xml"/>
</section>

<section id="reboot">
<title>Reboot</title>
<body>

<p>
Exit the chrooted environment, unmount all file systems and reboot:
</p>

<pre caption="Reboot">
livecd conf.d # <i>exit</i>
livecd / # <i>umount -l /mnt/gentoo/dev{/shm,/pts,}</i>
livecd / # <i>umount -l /mnt/gentoo{/proc,/boot,}</i>
livecd / # <i>reboot</i>
<comment>(Don't forget to remove the CD)</comment>
</pre>

</body>
</section>

<section>
 <include href="gentoo-x86-quickinstall-after-reboot.xml"/>
</section>

</chapter>	
</guide>
